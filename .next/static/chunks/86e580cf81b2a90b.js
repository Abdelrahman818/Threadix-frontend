(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16799,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8080",r={LOGIN:`${t}/api/auth/login`,SIGNUP:`${t}/api/auth/signup`,LOGOUT:`${t}/api/auth/logout`,VERIFY_USER:`${t}/api/auth/verifyUser`,ACTIVATE_USER:`${t}/api/auth/verifyUser`,VERIFY_TOKEN:`${t}/api/auth/verifyToken`,GET_CURRENT_USER:`${t}/api/auth/getCurrentUser`,PRODUCTS:`${t}/api/products`,CATEGORIES:e=>`${t}/api/categories${e?"/"+e:""}`,GET_PRODUCT:e=>`${t}/api/products/item/${e}`,SEARCH:e=>`${t}/api/${e}/search`,FILTER:e=>`${t}/api/filter/${e}`,CONTACT:`${t}/api/contact`,USERS:`${t}/api/users`,GET_ROLE:`${t}/api/auth/getRole`,GET_FEATURED:`${t}/api/products/featured`,CART:e=>`${t}/api/cart${e?"/"+e:""}`,ORDERS:`${t}/api/orders`,MY_ORDERS:`${t}/api/orders/my-orders`,TRACK_ORDER:e=>`${t}/api/orders/track/${e}`,ADMIN_STATS:`${t}/api/admin/stats`};e.s(["API_BASE_URL",0,t,"END_POINT",0,r])},18566,(e,t,r)=>{t.exports=e.r(76562)},3946,e=>{"use strict";var t=e.i(43476),r=e.i(16799),a=e.i(71645),s=e.i(18566);let i=(0,a.createContext)(null);function o({children:e}){let o=(0,s.useRouter)(),[u,l]=(0,a.useState)(null),[n,c]=(0,a.useState)(null),[E,T]=(0,a.useState)(!0),p=(0,a.useCallback)(async()=>{try{T(!0);let e=await fetch(r.END_POINT.GET_CURRENT_USER,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(401===e.status)return;let t=await e.json();t.successful?l(t.data):l(null)}catch(e){console.error("Error fetching user:",e.message),l(null)}finally{T(!1)}},[]),d=(0,a.useCallback)(async()=>{try{T(!0);let e=await fetch(r.END_POINT.CART(""),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),t=await e.json();c(t.data)}catch(e){console.error(e.message)}finally{T(!1)}},[]),R=async()=>{try{let e=await fetch(r.END_POINT.LOGOUT,{method:"GET",credentials:"include"});(await e.json()).successful&&(l(null),o.push("/"))}catch(e){console.error("Logout failed:",e.message)}};(0,a.useEffect)(()=>{p(),d()},[p,d]);let h={user:u,cartItems:n,loading:E,isLoggedIn:!!u,isAdmin:u?.isAdmin||!1,isCustomer:u&&!u.isAdmin,logout:R,refreshUser:p,refreshCart:d};return(0,t.jsx)(i.Provider,{value:h,children:e})}e.s(["UserProvider",()=>o,"useUser",0,()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useUser must be used within a UserProvider");return e}])}]);