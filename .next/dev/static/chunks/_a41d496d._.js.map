{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/VSCode/Web-dev/Front-end/Projects/e-store/config.js"],"sourcesContent":["export const API_BASE_URL = \"http://localhost:8080\";\r\n\r\nexport const END_POINT = {\r\n  LOGIN: `${API_BASE_URL}/api/auth/login`,\r\n  SIGNUP: `${API_BASE_URL}/api/auth/signup`,\r\n  LOGOUT: `${API_BASE_URL}/api/auth/logout`,\r\n  VERIFY_USER: `${API_BASE_URL}/api/auth/verifyUser`,\r\n  VERIFY_TOKEN: `${API_BASE_URL}/api/auth/verifyToken`,\r\n  PRODUCTS: `${API_BASE_URL}/api/products`,\r\n  CATEGORIES: (id) => `${API_BASE_URL}/api/categories${id?'/'+id:''}`,\r\n  GET_PRODUCT: (id) => `${API_BASE_URL}/api/products/item/${id}`,\r\n  SEARCH: (route) => `${API_BASE_URL}/api/${route}/search`,\r\n  FILTER: (filter) => `${API_BASE_URL}/api/filter/${filter}`,\r\n  CONTACT: `${API_BASE_URL}/api/contact`,\r\n  USERS: `${API_BASE_URL}/api/users`,\r\n  GET_ROLE: `${API_BASE_URL}/api/auth/getRole`,\r\n  GET_FEATURED: `${API_BASE_URL}/api/products/featured`,\r\n  CART: (id) => `${API_BASE_URL}/api/cart${id?'/'+id:''}`,\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,eAAe;AAErB,MAAM,YAAY;IACvB,OAAO,GAAG,aAAa,eAAe,CAAC;IACvC,QAAQ,GAAG,aAAa,gBAAgB,CAAC;IACzC,QAAQ,GAAG,aAAa,gBAAgB,CAAC;IACzC,aAAa,GAAG,aAAa,oBAAoB,CAAC;IAClD,cAAc,GAAG,aAAa,qBAAqB,CAAC;IACpD,UAAU,GAAG,aAAa,aAAa,CAAC;IACxC,YAAY,CAAC,KAAO,GAAG,aAAa,eAAe,EAAE,KAAG,MAAI,KAAG,IAAI;IACnE,aAAa,CAAC,KAAO,GAAG,aAAa,mBAAmB,EAAE,IAAI;IAC9D,QAAQ,CAAC,QAAU,GAAG,aAAa,KAAK,EAAE,MAAM,OAAO,CAAC;IACxD,QAAQ,CAAC,SAAW,GAAG,aAAa,YAAY,EAAE,QAAQ;IAC1D,SAAS,GAAG,aAAa,YAAY,CAAC;IACtC,OAAO,GAAG,aAAa,UAAU,CAAC;IAClC,UAAU,GAAG,aAAa,iBAAiB,CAAC;IAC5C,cAAc,GAAG,aAAa,sBAAsB,CAAC;IACrD,MAAM,CAAC,KAAO,GAAG,aAAa,SAAS,EAAE,KAAG,MAAI,KAAG,IAAI;AACzD"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["D:/VSCode/Web-dev/Front-end/Projects/e-store/context/AuthContext.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useState, useEffect, useCallback } from 'react';\r\nimport { END_POINT } from '@/config';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userId, setUserId] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const res = await fetch(END_POINT.VERIFY_TOKEN, {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        const json = await res.json();\r\n        \r\n        if (json.successful && json.data) {\r\n          setIsLoggedIn(true);\r\n          setUserId(json.data);\r\n        } else {\r\n          setIsLoggedIn(false);\r\n          setUserId(null);\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth check failed:', error.message);\r\n        setIsLoggedIn(false);\r\n        setUserId(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n  }, []);\r\n\r\n  // Logout function\r\n  const logout = useCallback(async () => {\r\n    try {\r\n      await fetch(END_POINT.LOGOUT, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      setIsLoggedIn(false);\r\n      setUserId(null);\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error('Logout failed:', error.message);\r\n    }\r\n  }, []);\r\n\r\n  // Login function (to be called after successful login)\r\n  const login = useCallback((newUserId) => {\r\n    setIsLoggedIn(true);\r\n    setUserId(newUserId);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, userId, loading, logout, login }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":["createContext","useState","useEffect","useCallback","END_POINT","AuthContext","AuthProvider","children","isLoggedIn","setIsLoggedIn","userId","setUserId","loading","setLoading","checkAuth","res","fetch","VERIFY_TOKEN","method","credentials","headers","json","successful","data","error","console","message","logout","LOGOUT","window","location","reload","login","newUserId"],"mappings":";;;;;;;AAEA,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,SAAS,QAAQ,UAAU;;;AAHpC,YAAY;;;AAKL,MAAMC,WAAW,qBAAGL,8KAAa,CAAC,CAAC;AAEnC,sBAAsB,EAAEO,QAAAA,EAAU,EAAE;;IACzC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,OAAGR,yKAAQ,EAAC,KAAK,CAAC;IACnD,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,OAAGV,yKAAQ,EAAC,IAAI,CAAC;IAC1C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,OAAGZ,yKAAQ,EAAC,IAAI,CAAC;QAE5CC,0KAAS;kCAAC,MAAM;YACd,MAAMY,SAAS;oDAAG,MAAAA,CAAA,KAAY;oBAC5B,IAAI;wBACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACZ,sHAAS,CAACa,YAAY,EAAE;4BAC9CC,MAAM,EAAE,KAAK;4BACbC,WAAW,EAAE,SAAS;4BACtBC,OAAO,EAAE;gCACP,cAAc,EAAE;4BAClB;wBACF,CAAC,CAAC;wBAEF,MAAMC,IAAI,GAAG,MAAMN,GAAG,CAACM,IAAI,CAAC,CAAC;wBAE7B,IAAIA,IAAI,CAACC,UAAU,IAAID,IAAI,CAACE,IAAI,EAAE;4BAChCd,aAAa,CAAC,IAAI,CAAC;4BACnBE,SAAS,CAACU,IAAI,CAACE,IAAI,CAAC;wBACtB,CAAC,MAAM;4BACLd,aAAa,CAAC,KAAK,CAAC;4BACpBE,SAAS,CAAC,IAAI,CAAC;wBACjB;oBACF,CAAC,CAAC,OAAOa,KAAK,EAAE;wBACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAACE,OAAO,CAAC;wBAClDjB,aAAa,CAAC,KAAK,CAAC;wBACpBE,SAAS,CAAC,IAAI,CAAC;oBACjB,CAAC,QAAS;wBACRE,UAAU,CAAC,KAAK,CAAC;oBACnB;gBACF,CAAC;;YAEDC,SAAS,CAAC,CAAC;QACb,CAAC;iCAAE,EAAE,CAAC;IAEN,kBAAA;IACA,MAAMa,MAAM,OAAGxB,4KAAW;4CAAC,YAAY;YACrC,IAAI;gBACF,MAAMa,KAAK,CAACZ,sHAAS,CAACwB,MAAM,EAAE;oBAC5BV,MAAM,EAAE,KAAK;oBACbC,WAAW,EAAE,SAAS;oBACtBC,OAAO,EAAE;wBACP,cAAc,EAAE;oBAClB;gBACF,CAAC,CAAC;gBACFX,aAAa,CAAC,KAAK,CAAC;gBACpBE,SAAS,CAAC,IAAI,CAAC;gBACfkB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;YAC1B,CAAC,CAAC,OAAOP,OAAK,EAAE;gBACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,OAAK,CAACE,OAAO,CAAC;YAChD;QACF,CAAC;2CAAE,EAAE,CAAC;IAEN,uDAAA;IACA,MAAMM,KAAK,OAAG7B,4KAAW;4CAAE8B,SAAS,IAAK;YACvCxB,aAAa,CAAC,IAAI,CAAC;YACnBE,SAAS,CAACsB,SAAS,CAAC;QACtB,CAAC;0CAAE,EAAE,CAAC;IAEN,qBACE,6LAAC,WAAW,CAAC,QAAQ;QAAC,KAAK,CAAC,CAAC;YAAEzB,UAAU;YAAEE,MAAM;YAAEE,OAAO;YAAEe,MAAM;YAAEK;QAAM,CAAC,CAAC,CAAC;kBAC1EzB,QAAQ,CAAC;;;;;;AAGhB;;KAlEgBD,YAAYA","ignoreList":[]}}]
}