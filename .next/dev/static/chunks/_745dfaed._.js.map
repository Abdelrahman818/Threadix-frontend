{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/VSCode/Web-dev/Front-end/Projects/threadix/frontend/config.js"],"sourcesContent":["export const API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8080\";\r\n\r\nexport const END_POINT = {\r\n  LOGIN: `${API_BASE_URL}/api/auth/login`,\r\n  SIGNUP: `${API_BASE_URL}/api/auth/signup`,\r\n  LOGOUT: `${API_BASE_URL}/api/auth/logout`,\r\n  VERIFY_USER: `${API_BASE_URL}/api/auth/verifyUser`,\r\n  ACTIVATE_USER: `${API_BASE_URL}/api/auth/verifyUser`,\r\n  VERIFY_TOKEN: `${API_BASE_URL}/api/auth/verifyToken`,\r\n  GET_CURRENT_USER: `${API_BASE_URL}/api/auth/getCurrentUser`,\r\n  PRODUCTS: `${API_BASE_URL}/api/products`,\r\n  CATEGORIES: (id) => `${API_BASE_URL}/api/categories${id ? '/' + id : ''}`,\r\n  GET_PRODUCT: (id) => `${API_BASE_URL}/api/products/item/${id}`,\r\n  SEARCH: (route) => `${API_BASE_URL}/api/${route}/search`,\r\n  FILTER: (filter) => `${API_BASE_URL}/api/filter/${filter}`,\r\n  CONTACT: `${API_BASE_URL}/api/contact`,\r\n  USERS: `${API_BASE_URL}/api/users`,\r\n  GET_ROLE: `${API_BASE_URL}/api/auth/getRole`,\r\n  GET_FEATURED: `${API_BASE_URL}/api/products/featured`,\r\n  CART: (id) => `${API_BASE_URL}/api/cart${id ? '/' + id : ''}`,\r\n  ORDERS: `${API_BASE_URL}/api/orders`,\r\n  MY_ORDERS: `${API_BASE_URL}/api/orders/my-orders`,\r\n  TRACK_ORDER: (orderId) => `${API_BASE_URL}/api/orders/track/${orderId}`,\r\n  ADMIN_STATS: `${API_BASE_URL}/api/admin/stats`,\r\n};\r\n"],"names":[],"mappings":";;;;;;AAA4B;AAArB,MAAM,eAAe,2KAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI;AAE7D,MAAM,YAAY;IACvB,OAAO,GAAG,aAAa,eAAe,CAAC;IACvC,QAAQ,GAAG,aAAa,gBAAgB,CAAC;IACzC,QAAQ,GAAG,aAAa,gBAAgB,CAAC;IACzC,aAAa,GAAG,aAAa,oBAAoB,CAAC;IAClD,eAAe,GAAG,aAAa,oBAAoB,CAAC;IACpD,cAAc,GAAG,aAAa,qBAAqB,CAAC;IACpD,kBAAkB,GAAG,aAAa,wBAAwB,CAAC;IAC3D,UAAU,GAAG,aAAa,aAAa,CAAC;IACxC,YAAY,CAAC,KAAO,GAAG,aAAa,eAAe,EAAE,KAAK,MAAM,KAAK,IAAI;IACzE,aAAa,CAAC,KAAO,GAAG,aAAa,mBAAmB,EAAE,IAAI;IAC9D,QAAQ,CAAC,QAAU,GAAG,aAAa,KAAK,EAAE,MAAM,OAAO,CAAC;IACxD,QAAQ,CAAC,SAAW,GAAG,aAAa,YAAY,EAAE,QAAQ;IAC1D,SAAS,GAAG,aAAa,YAAY,CAAC;IACtC,OAAO,GAAG,aAAa,UAAU,CAAC;IAClC,UAAU,GAAG,aAAa,iBAAiB,CAAC;IAC5C,cAAc,GAAG,aAAa,sBAAsB,CAAC;IACrD,MAAM,CAAC,KAAO,GAAG,aAAa,SAAS,EAAE,KAAK,MAAM,KAAK,IAAI;IAC7D,QAAQ,GAAG,aAAa,WAAW,CAAC;IACpC,WAAW,GAAG,aAAa,qBAAqB,CAAC;IACjD,aAAa,CAAC,UAAY,GAAG,aAAa,kBAAkB,EAAE,SAAS;IACvE,aAAa,GAAG,aAAa,gBAAgB,CAAC;AAChD"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["D:/VSCode/Web-dev/Front-end/Projects/threadix/frontend/context/UserContext.js"],"sourcesContent":["'use client';\r\n\r\nimport { END_POINT } from \"@/config\";\r\nimport { createContext, useContext, useState, useEffect, useCallback } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst UserContext = createContext(null);\r\n\r\nexport function UserProvider({ children }) {\r\n\r\n  const router = useRouter();\r\n  const [user, setUser] = useState(null);\r\n  const [cart, setCart] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchUser = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(END_POINT.GET_CURRENT_USER, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      });\r\n      const json = await res.json();\r\n      if (json.successful) {\r\n        setUser(json.data);\r\n      } else {\r\n        setUser(null);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching user:\", error.message);\r\n      setUser(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchCart = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(END_POINT.CART(''), {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      });\r\n      const json = await res.json();\r\n      setCart(json.data);\r\n    } catch (error) {\r\n      console.error(error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const logout = async () => {\r\n    try {\r\n      const res = await fetch(END_POINT.LOGOUT, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n      });\r\n      const json = await res.json();\r\n      if (json.successful) {\r\n        setUser(null);\r\n        router.push('/');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Logout failed:\", error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUser();\r\n    fetchCart();\r\n  }, [fetchUser, fetchCart]);\r\n\r\n  const value = {\r\n    user,\r\n    cartItems: cart,\r\n    loading,\r\n    isLoggedIn: !!user,\r\n    isAdmin: user?.isAdmin || false,\r\n    isCustomer: user && !user.isAdmin,\r\n    logout,\r\n    refreshUser: fetchUser,\r\n    refreshCart: fetchCart,\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider value={value}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useUser = () => {\r\n  const context = useContext(UserContext);\r\n  if (!context) {\r\n    throw new Error(\"useUser must be used within a UserProvider\");\r\n  }\r\n  return context;\r\n}\r\n"],"names":["c","_c","END_POINT","createContext","useContext","useState","useEffect","useCallback","useRouter","UserContext","UserProvider","children","router","user","setUser","cart","setCart","loading","setLoading","fetchUser","res","fetch","GET_CURRENT_USER","method","headers","credentials","json","successful","data","error","console","message","fetchCart","CART","logout","LOGOUT","push","value","cartItems","isLoggedIn","isAdmin","isCustomer","refreshUser","refreshCart","useUser","$","$i","Symbol","for","context","Error"],"mappings":"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","ignoreList":[]}}]
}