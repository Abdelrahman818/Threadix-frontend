{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/VSCode/Web-dev/Front-end/Projects/threadix/frontend/app/admin/dashboard/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { END_POINT } from \"@/config\";\r\n\r\nexport default function Dashboard() {\r\n  const [stats, setStats] = useState({\r\n    totalUsers: 0,\r\n    totalOrders: 0,\r\n    totalProducts: 0,\r\n    totalRevenue: 0,\r\n    latestOrders: []\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch(END_POINT.ADMIN_STATS, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include'\r\n    })\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        if (json.successful) {\r\n          setStats(json.data);\r\n        }\r\n      })\r\n      .catch(err => console.error(\"Error fetching stats:\", err))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const year = date.getFullYear();\r\n    return `${day} / ${month} / ${year}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex-1 p-4\">\r\n\r\n      {/* TOP NAV FOR MOBILE */}\r\n      <div className=\"md:hidden mb-4\">\r\n        <div className=\"flex justify-between items-center p-3 bg-white rounded-lg shadow\">\r\n          <div className=\"font-bold\">Threadix Admin</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* TITLE */}\r\n      <h1 className=\"text-2xl font-bold mb-6\">Dashboard Overview</h1>\r\n\r\n      {/* KPI CARDS */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\r\n\r\n        <div className=\"bg-white p-5 rounded-xl shadow\">\r\n          <div className=\"text-gray-500\">Total Users</div>\r\n          <div className=\"text-3xl font-bold mt-2\">{loading ? \"...\" : stats.totalUsers}</div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-5 rounded-xl shadow\">\r\n          <div className=\"text-gray-500\">Total Orders</div>\r\n          <div className=\"text-3xl font-bold mt-2\">{loading ? \"...\" : stats.totalOrders}</div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-5 rounded-xl shadow\">\r\n          <div className=\"text-gray-500\">Total Products</div>\r\n          <div className=\"text-3xl font-bold mt-2\">{loading ? \"...\" : stats.totalProducts}</div>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-5 rounded-xl shadow\">\r\n          <div className=\"text-gray-500\">Total Revenue</div>\r\n          <div className=\"text-xl font-bold mt-2\">{loading ? \"...\" : `${stats.totalRevenue.toFixed(2)}`}</div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      {/* LATEST ORDERS */}\r\n      <div className=\"bg-white p-5 rounded-xl shadow mb-6 overflow-hidden\">\r\n        <div className=\"text-xl font-semibold mb-4\">Latest Orders</div>\r\n        {loading ? (\r\n          <div className=\"text-gray-500 text-center py-4\">Loading orders...</div>\r\n        ) : stats.latestOrders && stats.latestOrders.length > 0 ? (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-left\">\r\n              <thead className=\"border-b\">\r\n                <tr>\r\n                  <th className=\"pb-3 font-semibold text-gray-600\">Customer</th>\r\n                  <th className=\"pb-3 font-semibold text-gray-600\">Date</th>\r\n                  <th className=\"pb-3 font-semibold text-gray-600\">Total</th>\r\n                  <th className=\"pb-3 font-semibold text-gray-600\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y\">\r\n                {stats.latestOrders.map((order) => (\r\n                  <tr key={order._id} className=\"hover:bg-gray-50 transition-colors\">\r\n                    <td className=\"py-4 text-sm\">\r\n                      <div className=\"font-medium text-gray-900\">{order.customerName || order.name || \"N/A\"}</div>\r\n                      <div className=\"text-xs text-gray-500\">{order.customerEmail || order.email}</div>\r\n                    </td>\r\n                    <td className=\"py-4 text-sm text-gray-600\">{formatDate(order.createdAt)}</td>\r\n                    <td className=\"py-4 text-sm font-semibold text-gray-900\">{order.totalPrice?.toFixed(2) || \"0.00\"} EGP</td>\r\n                    <td className=\"py-4\">\r\n                      <span className={`px-2 py-1 rounded-full text-[10px] font-medium uppercase tracking-wider ${order.orderStatus === 'completed' ? 'bg-green-100 text-green-700' :\r\n                        order.orderStatus === 'in delivery' ? 'bg-blue-100 text-blue-700' :\r\n                          order.orderStatus === 'cancelled' ? 'bg-red-100 text-red-700' :\r\n                            'bg-yellow-100 text-yellow-700'\r\n                        }`}>\r\n                        {order.orderStatus}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-gray-500 text-center py-4\">No orders yet.</div>\r\n        )}\r\n      </div>\r\n\r\n      {/* BEST SELLING PRODUCTS */}\r\n      <div className=\"bg-white p-5 rounded-xl shadow mb-6\">\r\n        <div className=\"text-xl font-semibold mb-4\">Best Selling Products</div>\r\n        <div className=\"text-gray-500 text-center py-4 italic\">Available in future updates.</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;QACjC,YAAY;QACZ,aAAa;QACb,eAAe;QACf,cAAc;QACd,cAAc,EAAE;IAClB;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,mHAAS,CAAC,WAAW,EAAE;YAC3B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,aAAa;QACf,GACG,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;YACJ,IAAI,KAAK,UAAU,EAAE;gBACnB,SAAS,KAAK,IAAI;YACpB;QACF,GACC,KAAK,CAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,yBAAyB,MACpD,OAAO,CAAC,IAAM,WAAW;IAC9B,GAAG,EAAE;IAEL,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,IAAI,KAAK;QACtB,MAAM,MAAM,OAAO,KAAK,OAAO,IAAI,QAAQ,CAAC,GAAG;QAC/C,MAAM,QAAQ,OAAO,KAAK,QAAQ,KAAK,GAAG,QAAQ,CAAC,GAAG;QACtD,MAAM,OAAO,KAAK,WAAW;QAC7B,OAAO,GAAG,IAAI,GAAG,EAAE,MAAM,GAAG,EAAE,MAAM;IACtC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCAAY;;;;;;;;;;;;;;;;0BAK/B,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAGxC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAgB;;;;;;0CAC/B,8OAAC;gCAAI,WAAU;0CAA2B,UAAU,QAAQ,MAAM,UAAU;;;;;;;;;;;;kCAG9E,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAgB;;;;;;0CAC/B,8OAAC;gCAAI,WAAU;0CAA2B,UAAU,QAAQ,MAAM,WAAW;;;;;;;;;;;;kCAG/E,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAgB;;;;;;0CAC/B,8OAAC;gCAAI,WAAU;0CAA2B,UAAU,QAAQ,MAAM,aAAa;;;;;;;;;;;;kCAGjF,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAgB;;;;;;0CAC/B,8OAAC;gCAAI,WAAU;0CAA0B,UAAU,QAAQ,GAAG,MAAM,YAAY,CAAC,OAAO,CAAC,IAAI;;;;;;;;;;;;;;;;;;0BAMjG,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAA6B;;;;;;oBAC3C,wBACC,8OAAC;wBAAI,WAAU;kCAAiC;;;;;+BAC9C,MAAM,YAAY,IAAI,MAAM,YAAY,CAAC,MAAM,GAAG,kBACpD,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAM,WAAU;;8CACf,8OAAC;oCAAM,WAAU;8CACf,cAAA,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAmC;;;;;;0DACjD,8OAAC;gDAAG,WAAU;0DAAmC;;;;;;0DACjD,8OAAC;gDAAG,WAAU;0DAAmC;;;;;;0DACjD,8OAAC;gDAAG,WAAU;0DAAmC;;;;;;;;;;;;;;;;;8CAGrD,8OAAC;oCAAM,WAAU;8CACd,MAAM,YAAY,CAAC,GAAG,CAAC,CAAC,sBACvB,8OAAC;4CAAmB,WAAU;;8DAC5B,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAI,WAAU;sEAA6B,MAAM,YAAY,IAAI,MAAM,IAAI,IAAI;;;;;;sEAChF,8OAAC;4DAAI,WAAU;sEAAyB,MAAM,aAAa,IAAI,MAAM,KAAK;;;;;;;;;;;;8DAE5E,8OAAC;oDAAG,WAAU;8DAA8B,WAAW,MAAM,SAAS;;;;;;8DACtE,8OAAC;oDAAG,WAAU;;wDAA4C,MAAM,UAAU,EAAE,QAAQ,MAAM;wDAAO;;;;;;;8DACjG,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC;wDAAK,WAAW,CAAC,wEAAwE,EAAE,MAAM,WAAW,KAAK,cAAc,gCAC9H,MAAM,WAAW,KAAK,gBAAgB,8BACpC,MAAM,WAAW,KAAK,cAAc,4BAClC,iCACF;kEACD,MAAM,WAAW;;;;;;;;;;;;2CAbf,MAAM,GAAG;;;;;;;;;;;;;;;;;;;;6CAsB1B,8OAAC;wBAAI,WAAU;kCAAiC;;;;;;;;;;;;0BAKpD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAA6B;;;;;;kCAC5C,8OAAC;wBAAI,WAAU;kCAAwC;;;;;;;;;;;;;;;;;;AAI/D"}}]
}