{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/VSCode/Web-dev/Front-end/Projects/e-store/config.js"],"sourcesContent":["export const API_BASE_URL = \"http://localhost:8080\";\r\n\r\nexport const END_POINT = {\r\n  LOGIN: `${API_BASE_URL}/api/auth/login`,\r\n  SIGNUP: `${API_BASE_URL}/api/auth/signup`,\r\n  LOGOUT: `${API_BASE_URL}/api/auth/logout`,\r\n  VERIFY_USER: `${API_BASE_URL}/api/auth/verifyUser`,\r\n  VERIFY_TOKEN: `${API_BASE_URL}/api/auth/verifyToken`,\r\n  PRODUCTS: `${API_BASE_URL}/api/products`,\r\n  CATEGORIES: (id) => `${API_BASE_URL}/api/categories${id?'/'+id:''}`,\r\n  GET_PRODUCT: (id) => `${API_BASE_URL}/api/products/item/${id}`,\r\n  SEARCH: (route) => `${API_BASE_URL}/api/${route}/search`,\r\n  FILTER: (filter) => `${API_BASE_URL}/api/filter/${filter}`,\r\n  CONTACT: `${API_BASE_URL}/api/contact`,\r\n  USERS: `${API_BASE_URL}/api/users`,\r\n  GET_ROLE: `${API_BASE_URL}/api/auth/getRole`,\r\n  GET_FEATURED: `${API_BASE_URL}/api/products/featured`,\r\n  CART: (id) => `${API_BASE_URL}/api/cart${id?'/'+id:''}`,\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,eAAe;AAErB,MAAM,YAAY;IACvB,OAAO,GAAG,aAAa,eAAe,CAAC;IACvC,QAAQ,GAAG,aAAa,gBAAgB,CAAC;IACzC,QAAQ,GAAG,aAAa,gBAAgB,CAAC;IACzC,aAAa,GAAG,aAAa,oBAAoB,CAAC;IAClD,cAAc,GAAG,aAAa,qBAAqB,CAAC;IACpD,UAAU,GAAG,aAAa,aAAa,CAAC;IACxC,YAAY,CAAC,KAAO,GAAG,aAAa,eAAe,EAAE,KAAG,MAAI,KAAG,IAAI;IACnE,aAAa,CAAC,KAAO,GAAG,aAAa,mBAAmB,EAAE,IAAI;IAC9D,QAAQ,CAAC,QAAU,GAAG,aAAa,KAAK,EAAE,MAAM,OAAO,CAAC;IACxD,QAAQ,CAAC,SAAW,GAAG,aAAa,YAAY,EAAE,QAAQ;IAC1D,SAAS,GAAG,aAAa,YAAY,CAAC;IACtC,OAAO,GAAG,aAAa,UAAU,CAAC;IAClC,UAAU,GAAG,aAAa,iBAAiB,CAAC;IAC5C,cAAc,GAAG,aAAa,sBAAsB,CAAC;IACrD,MAAM,CAAC,KAAO,GAAG,aAAa,SAAS,EAAE,KAAG,MAAI,KAAG,IAAI;AACzD"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///D:/VSCode/Web-dev/Front-end/Projects/e-store/context/AuthContext.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useState, useEffect, useCallback } from 'react';\r\nimport { END_POINT } from '@/config';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userId, setUserId] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const res = await fetch(END_POINT.VERIFY_TOKEN, {\r\n          method: 'GET',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n\r\n        const json = await res.json();\r\n        \r\n        if (json.successful && json.data) {\r\n          setIsLoggedIn(true);\r\n          setUserId(json.data);\r\n        } else {\r\n          setIsLoggedIn(false);\r\n          setUserId(null);\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth check failed:', error.message);\r\n        setIsLoggedIn(false);\r\n        setUserId(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n  }, []);\r\n\r\n  // Logout function\r\n  const logout = useCallback(async () => {\r\n    try {\r\n      await fetch(END_POINT.LOGOUT, {\r\n        method: 'GET',\r\n        credentials: 'include',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      setIsLoggedIn(false);\r\n      setUserId(null);\r\n      window.location.reload();\r\n    } catch (error) {\r\n      console.error('Logout failed:', error.message);\r\n    }\r\n  }, []);\r\n\r\n  // Login function (to be called after successful login)\r\n  const login = useCallback((newUserId) => {\r\n    setIsLoggedIn(true);\r\n    setUserId(newUserId);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, userId, loading, logout, login }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAKO,MAAM,4BAAc,IAAA,sNAAa;AAEjC,SAAS,aAAa,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,mHAAS,CAAC,YAAY,EAAE;oBAC9C,QAAQ;oBACR,aAAa;oBACb,SAAS;wBACP,gBAAgB;oBAClB;gBACF;gBAEA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,IAAI,KAAK,UAAU,IAAI,KAAK,IAAI,EAAE;oBAChC,cAAc;oBACd,UAAU,KAAK,IAAI;gBACrB,OAAO;oBACL,cAAc;oBACd,UAAU;gBACZ;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,sBAAsB,MAAM,OAAO;gBACjD,cAAc;gBACd,UAAU;YACZ,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,kBAAkB;IAClB,MAAM,SAAS,IAAA,oNAAW,EAAC;QACzB,IAAI;YACF,MAAM,MAAM,mHAAS,CAAC,MAAM,EAAE;gBAC5B,QAAQ;gBACR,aAAa;gBACb,SAAS;oBACP,gBAAgB;gBAClB;YACF;YACA,cAAc;YACd,UAAU;YACV,OAAO,QAAQ,CAAC,MAAM;QACxB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB,MAAM,OAAO;QAC/C;IACF,GAAG,EAAE;IAEL,uDAAuD;IACvD,MAAM,QAAQ,IAAA,oNAAW,EAAC,CAAC;QACzB,cAAc;QACd,UAAU;IACZ,GAAG,EAAE;IAEL,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAY;YAAQ;YAAS;YAAQ;QAAM;kBACvE;;;;;;AAGP"}}]
}