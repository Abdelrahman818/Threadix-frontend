{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","turbopack:///[project]/styles/login.module.css [app-ssr] (css module)","../../../../app/auth/login/page.jsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","__turbopack_context__.v({\n  \"btn-loading\": \"login-module__TltHoW__btn-loading\",\n  \"error-message\": \"login-module__TltHoW__error-message\",\n  \"form-group\": \"login-module__TltHoW__form-group\",\n  \"login-bottom-text\": \"login-module__TltHoW__login-bottom-text\",\n  \"login-btn\": \"login-module__TltHoW__login-btn\",\n  \"login-container\": \"login-module__TltHoW__login-container\",\n  \"login-form\": \"login-module__TltHoW__login-form\",\n  \"login-form-section\": \"login-module__TltHoW__login-form-section\",\n  \"login-image-section\": \"login-module__TltHoW__login-image-section\",\n  \"login-page\": \"login-module__TltHoW__login-page\",\n  \"slideDown\": \"login-module__TltHoW__slideDown\",\n  \"spin\": \"login-module__TltHoW__spin\",\n  \"spinner\": \"login-module__TltHoW__spinner\",\n  \"success-message\": \"login-module__TltHoW__success-message\",\n});\n","'use client';\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport Lottie from \"lottie-react\";\r\nimport loginAnimation from \"@/animations/login_animation.json\";\r\nimport { END_POINT } from \"@/config\";\r\nimport { useUser } from \"@/context/UserContext\";\r\n\r\nimport styles from \"@/styles/login.module.css\";\r\n\r\nexport default function Login() {\r\n  const router = useRouter();\r\n  const { refreshUser, refreshCart } = useUser();\r\n  const [formData, setFormData] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    if (errorMessage) {\r\n      setErrorMessage('');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setErrorMessage('');\r\n\r\n    try {\r\n      const res = await fetch(END_POINT.LOGIN, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const json = await res.json();\r\n\r\n      if (json.successful) {\r\n        // Refresh user and cart state before redirecting\r\n        await refreshUser();\r\n        await refreshCart();\r\n\r\n        // Redirect to home page on success\r\n        router.push('/');\r\n        router.refresh();\r\n      } else {\r\n        setErrorMessage(json.msg || 'Login failed. Please check your credentials.');\r\n        setIsLoading(false);\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage('An error occurred. Please try again.');\r\n      setIsLoading(false);\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles['login-page']}>\r\n      <div className={styles['login-container']}>\r\n\r\n        {/* Form Section */}\r\n        <div className={styles['login-form-section']}>\r\n          <h2>Welcome Back</h2>\r\n          <p>Login to access your Threadix account</p>\r\n\r\n          <form className={styles['login-form']} onSubmit={handleSubmit}>\r\n            <div className={styles['form-group']}>\r\n              <label>Email</label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className={styles['form-group']}>\r\n              <label>Password</label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"pwd\"\r\n                placeholder=\"Enter your password\"\r\n                value={formData.pwd || ''}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className={styles['login-btn']}\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? (\r\n                <span className={styles['btn-loading']}>\r\n                  <span className={styles['spinner']}></span>\r\n                  Logging In...\r\n                </span>\r\n              ) : (\r\n                'Login'\r\n              )}\r\n            </button>\r\n\r\n            {errorMessage && (\r\n              <div className={styles['error-message']}>\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 15H9v-2h2v2zm0-4H9V7h2v4z\" fill=\"#ef4444\" />\r\n                </svg>\r\n                <span>{errorMessage}</span>\r\n              </div>\r\n            )}\r\n          </form>\r\n\r\n          <p className={styles['login-bottom-text']}>\r\n            Don't have an account? <Link href=\"/auth/signup\">Sign Up</Link>\r\n          </p>\r\n        </div>\r\n\r\n        {/* Animation Section */}\r\n        <div className={`${styles['login-animation-section']} w-1/2`}>\r\n          <Lottie animationData={loginAnimation} loop={true} />\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0]}