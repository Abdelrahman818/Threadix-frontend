{"version":3,"sources":["../../../../app/track/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { END_POINT } from '@/config';\r\nimport { useUser } from '@/context/UserContext';\r\nimport '@/styles/track.css';\r\n\r\nexport default function Tracking() {\r\n  const { isLoggedIn } = useUser();\r\n  const [orderId, setOrderId] = useState('');\r\n  const [order, setOrder] = useState(null);\r\n  const [userOrders, setUserOrders] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isLoadingOrders, setIsLoadingOrders] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [searched, setSearched] = useState(false);\r\n  const [selectedOrderId, setSelectedOrderId] = useState(null);\r\n\r\n  // Fetch user orders if logged in\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      fetchUserOrders();\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  const fetchUserOrders = async () => {\r\n    try {\r\n      setIsLoadingOrders(true);\r\n      const res = await fetch(END_POINT.MY_ORDERS, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      });\r\n\r\n      const json = await res.json();\r\n\r\n      if (res.ok && json.successful) {\r\n        setUserOrders(json.data || []);\r\n      } else {\r\n        console.error('Error fetching orders:', json.msg);\r\n        setUserOrders([]);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching user orders:', err);\r\n      setUserOrders([]);\r\n    } finally {\r\n      setIsLoadingOrders(false);\r\n    }\r\n  };\r\n\r\n  // Map order status to tracking steps\r\n  const getTrackingSteps = (orderStatus) => {\r\n    const steps = [\r\n      { id: 'pending', label: 'Order Placed', status: 'pending' },\r\n      { id: 'processing', label: 'Processing', status: 'pending' },\r\n      { id: 'in delivery', label: 'In Delivery', status: 'in delivery' },\r\n      { id: 'completed', label: 'Delivered', status: 'completed' },\r\n    ];\r\n\r\n    // Map order status to step completion\r\n    const statusMap = {\r\n      'pending': 0, // Only \"Order Placed\" is completed\r\n      'in delivery': 2, // \"Order Placed\" and \"Processing\" are completed, \"In Delivery\" is active\r\n      'completed': 3, // All steps completed\r\n      'cancelled': -1, // Special case for cancelled\r\n    };\r\n\r\n    const currentStep = statusMap[orderStatus] || 0;\r\n\r\n    return steps.map((step, index) => {\r\n      if (orderStatus === 'cancelled') {\r\n        return { ...step, completed: false, cancelled: true };\r\n      }\r\n      return {\r\n        ...step,\r\n        completed: index <= currentStep,\r\n        active: index === currentStep && orderStatus !== 'completed',\r\n      };\r\n    });\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n    });\r\n  };\r\n\r\n  const calculateEstimatedDelivery = (createdAt) => {\r\n    if (!createdAt) return 'N/A';\r\n    const orderDate = new Date(createdAt);\r\n    // Add 5-7 business days for delivery\r\n    const deliveryDate = new Date(orderDate);\r\n    deliveryDate.setDate(deliveryDate.getDate() + 7);\r\n    return formatDate(deliveryDate);\r\n  };\r\n\r\n  const handleTrackOrder = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!orderId.trim()) {\r\n      setError('Please enter an order number');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError('');\r\n    setOrder(null);\r\n    setSearched(true);\r\n    setSelectedOrderId(null);\r\n\r\n    try {\r\n      const res = await fetch(END_POINT.TRACK_ORDER(orderId.trim()), {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      });\r\n\r\n      const json = await res.json();\r\n\r\n      if (res.ok && json.successful) {\r\n        setOrder(json.data);\r\n        setError('');\r\n      } else {\r\n        setError(json.msg || 'Order not found. Please check your order number.');\r\n        setOrder(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Tracking error:', err);\r\n      setError('An error occurred while tracking your order. Please try again.');\r\n      setOrder(null);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOrderClick = async (clickedOrderId) => {\r\n    setSelectedOrderId(clickedOrderId);\r\n    setOrderId(clickedOrderId.toString());\r\n    setIsLoading(true);\r\n    setError('');\r\n    setSearched(true);\r\n\r\n    try {\r\n      const res = await fetch(END_POINT.TRACK_ORDER(clickedOrderId), {\r\n        method: 'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n      });\r\n\r\n      const json = await res.json();\r\n\r\n      if (res.ok && json.successful) {\r\n        setOrder(json.data);\r\n        setError('');\r\n      } else {\r\n        setError(json.msg || 'Order not found.');\r\n        setOrder(null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Tracking error:', err);\r\n      setError('An error occurred while loading order details.');\r\n      setOrder(null);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const trackingSteps = order ? getTrackingSteps(order.orderStatus) : [];\r\n\r\n  return (\r\n    <div className=\"tracking-page-container\">\r\n      <div className=\"tracking-main-content\">\r\n        <div className=\"tracking-page\">\r\n          <h1 className=\"title\">Order Tracking</h1>\r\n\r\n          {/* ======== Track Input ======== */}\r\n          <form className=\"track-box\" onSubmit={handleTrackOrder}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter Order Number\"\r\n              value={orderId}\r\n              onChange={(e) => setOrderId(e.target.value)}\r\n              disabled={isLoading}\r\n            />\r\n            <button type=\"submit\" disabled={isLoading}>\r\n              {isLoading ? 'Tracking...' : 'Track Order'}\r\n            </button>\r\n          </form>\r\n\r\n          {/* ======== Error Message ======== */}\r\n          {error && searched && (\r\n            <div className=\"error-message\">\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm1 15H9v-2h2v2zm0-4H9V7h2v4z\" fill=\"#ef4444\"/>\r\n              </svg>\r\n              <span>{error}</span>\r\n            </div>\r\n          )}\r\n\r\n          {/* ======== Order Details ======== */}\r\n          {order && (\r\n            <>\r\n              <div className=\"order-info\">\r\n                <h2>Order Details</h2>\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Order Number:</span>\r\n                  <span>#{order.orderId}</span>\r\n                </div>\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Customer Name:</span>\r\n                  <span>{order.name || 'N/A'}</span>\r\n                </div>\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Email:</span>\r\n                  <span>{order.email || 'N/A'}</span>\r\n                </div>\r\n\r\n                {order.phone && (\r\n                  <div className=\"info-row\">\r\n                    <span>Phone:</span>\r\n                    <span>{order.phone}</span>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Order Status:</span>\r\n                  <span className={`status-badge status-${order.orderStatus.replace(' ', '-')}`}>\r\n                    {order.orderStatus.charAt(0).toUpperCase() + order.orderStatus.slice(1)}\r\n                  </span>\r\n                </div>\r\n\r\n\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Payment Method:</span>\r\n                  <span>{order.paymentMethod || 'N/A'}</span>\r\n                </div>\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Total Amount:</span>\r\n                  <span>EGY{order.totalPrice?.toFixed(2) || '0.00'}</span>\r\n                </div>\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Order Date:</span>\r\n                  <span>{formatDate(order.createdAt)}</span>\r\n                </div>\r\n\r\n                <div className=\"info-row\">\r\n                  <span>Estimated Delivery:</span>\r\n                  <span>{calculateEstimatedDelivery(order.createdAt)}</span>\r\n                </div>\r\n\r\n                {order.address && (\r\n                  <div className=\"info-row\">\r\n                    <span>Delivery Address:</span>\r\n                    <span>{order.address}</span>\r\n                  </div>\r\n                )}\r\n\r\n                {order.items && order.items.length > 0 && (\r\n                  <div className=\"order-items\">\r\n                    <h3>Order Items</h3>\r\n                    {order.items.map((item, index) => (\r\n                      <div key={index} className=\"order-item\">\r\n                        <div className=\"item-info\">\r\n                          <span className=\"item-quantity\">Qty: {item.quantity}</span>\r\n                          {item.color && <span className=\"item-attr\">Color: {item.color}</span>}\r\n                          {item.size && <span className=\"item-attr\">Size: {item.size}</span>}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* ======== Tracking Steps ======== */}\r\n              {order.orderStatus !== 'cancelled' ? (\r\n                <div className=\"steps\">\r\n                  {trackingSteps.map((step, index) => (\r\n                    <div key={step.id} className=\"step-wrapper\">\r\n                      <div\r\n                        className={`step ${step.completed ? 'completed' : ''} ${step.active ? 'active' : ''}`}\r\n                      >\r\n                        <div className=\"circle\">\r\n                          {step.completed && (\r\n                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                              <path d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" fill=\"white\"/>\r\n                            </svg>\r\n                          )}\r\n                        </div>\r\n                        <p>{step.label}</p>\r\n                      </div>\r\n                      {index < trackingSteps.length - 1 && (\r\n                        <div className={`step-line ${step.completed ? 'completed' : ''}`}></div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"cancelled-message\">\r\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\" fill=\"#ef4444\"/>\r\n                  </svg>\r\n                  <p>This order has been cancelled.</p>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* ======== Empty State ======== */}\r\n          {!order && !error && searched && (\r\n            <div className=\"empty-state\">\r\n              <p>Enter an order number above to track your order.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ======== Orders Sidebar ======== */}\r\n      {isLoggedIn && (\r\n        <aside className=\"orders-sidebar\">\r\n          <div className=\"sidebar-header\">\r\n            <h2>My Orders</h2>\r\n            <span className=\"orders-count\">{userOrders.length}</span>\r\n          </div>\r\n\r\n          {isLoadingOrders ? (\r\n            <div className=\"sidebar-loading\">\r\n              <p>Loading orders...</p>\r\n            </div>\r\n          ) : userOrders.length === 0 ? (\r\n            <div className=\"sidebar-empty\">\r\n              <p>No orders yet</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"orders-list\">\r\n              {userOrders.map((orderItem) => (\r\n                <div\r\n                  key={orderItem._id}\r\n                  className={`order-card ${selectedOrderId === orderItem.orderId ? 'active' : ''}`}\r\n                  onClick={() => handleOrderClick(orderItem.orderId)}\r\n                >\r\n                  <div className=\"order-card-header\">\r\n                    <span className=\"order-number\">#{orderItem.orderId}</span>\r\n                    <span className={`order-status-badge status-${orderItem.orderStatus.replace(' ', '-')}`}>\r\n                      {orderItem.orderStatus}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"order-card-body\">\r\n                    <div className=\"order-card-info\">\r\n                      <span className=\"order-date\">{formatDate(orderItem.createdAt)}</span>\r\n                      <span className=\"order-total\">EGY{orderItem.totalPrice?.toFixed(2) || '0.00'}</span>\r\n                    </div>\r\n                    {/* Payment status removed as requested */}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </aside>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}