module.exports=[19623,a=>{"use strict";var b=a.i(87924),c=a.i(28620),d=a.i(89315);a.s(["default",0,()=>(0,b.jsx)("div",{className:"flex justify-center items-center w-full h-screen",children:(0,b.jsx)(c.default,{animationData:d.default,loop:!0,style:{width:400,height:400}})})])},37065,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(27544),f=a.i(67836),g=a.i(19623);function h(){let a=(0,d.useRouter)(),{refreshCart:h}=(0,f.useUser)(),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(1),[u,v]=(0,c.useState)(""),{id:w}=(0,d.useParams)();(0,c.useEffect)(()=>{fetch(e.END_POINT.GET_PRODUCT(w),{method:"GET",headers:{"Content-Type":"application/json"}}).then(a=>(404===a.status&&j(!1),a.json())).then(a=>l(a.data)).catch(a=>console.error(a.message))},[]),(0,c.useEffect)(()=>{k&&n(k.images[0])},[k]);let x=(a,b="success")=>{v(a),setTimeout(()=>v(""),3e3)},y=async()=>{if(!k)return void x("Product not found","error");if(!k.stock)return void x("This product is out of stock","error");if(k.colors&&k.colors.length>0&&!o)return void x("Please select a color","error");if(k.size&&k.size.length>0&&!q)return void x("Please select a size","error");try{let b=await fetch(e.END_POINT.CART(""),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productId:k._id,quantity:s,...k.colors&&k.colors.length>0&&{color:o},...k.size&&k.size.length>0&&{size:q}})});if(401===b.status)return void a.push("/auth/login");let c=await b.json();c.successful?(x("Added to cart successfully!","success"),h(),p(null),r(null),t(1)):x(c.msg||"Failed to add item to cart","error")}catch(a){console.error("Add to cart error:",a.message),x("Error adding item to cart","error")}},z=async()=>{if(!k)return void x("Product not found","error");if(!k.stock)return void x("This product is out of stock","error");if(k.colors&&k.colors.length>0&&!o)return void x("Please select a color","error");if(k.size&&k.size.length>0&&!q)return void x("Please select a size","error");try{let b=await fetch(e.END_POINT.CART(""),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({productId:k._id,quantity:s,...k.colors&&k.colors.length>0&&{color:o},...k.size&&k.size.length>0&&{size:q}})}),c=await b.json();if(401===b.status)return void a.push("/auth/login");c.successful?(h(),a.push("/checkout/confirm")):x(c.msg||"Failed to add item to cart","error")}catch(a){console.error("Buy now error:",a.message),x("Error processing your request","error")}};return(0,b.jsx)(b.Fragment,{children:i?(0,b.jsx)("div",{className:"product-new-page",children:k&&(0,b.jsxs)("div",{className:"product-container",children:[(0,b.jsxs)("div",{className:"images-section",children:[(0,b.jsx)("div",{className:"main-image",children:k&&(0,b.jsx)("img",{src:`${e.API_BASE_URL}${m}`,alt:"Product Main"})}),(0,b.jsx)("div",{className:"image-slider",children:k&&k.images.map((a,c)=>(0,b.jsx)("img",{src:`${e.API_BASE_URL}${a}`,className:m===a?"active":"",onClick:()=>n(a)},c))})]}),(0,b.jsxs)("div",{className:"details-section",children:[(0,b.jsx)("h1",{className:"item-title",children:k.title}),(0,b.jsxs)("p",{className:"item-price",children:[k.salePrice," EGP"]}),(0,b.jsx)("div",{className:"divider"}),(0,b.jsxs)("div",{className:"section",children:[(0,b.jsx)("p",{className:"label",children:"Description"}),(0,b.jsx)("p",{className:"text",children:k.desc})]}),k.colors&&k.colors.length>0&&(0,b.jsxs)("div",{className:"section",children:[(0,b.jsx)("p",{className:"label",children:"Available Colors"}),(0,b.jsx)("div",{className:"colors-group",style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:k.colors.map((a,c)=>(0,b.jsx)("span",{className:`color-btn ${o===a?"active":""}`,onClick:()=>p(a),style:{padding:"8px 16px",border:o===a?"2px solid #000":"1px solid #ccc",borderRadius:"4px",cursor:"pointer",backgroundColor:o===a?"#000":"#fff",color:o===a?"#fff":"#000",transition:"all 0.2s"},children:a},c))})]}),k.size&&k.size.length>0&&(0,b.jsxs)("div",{className:"section",children:[(0,b.jsx)("p",{className:"label",children:"Available Sizes"}),(0,b.jsx)("div",{className:"sizes-group",style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:k.size.map((a,c)=>(0,b.jsx)("span",{className:`size-btn ${q===a?"active":""}`,onClick:()=>r(a),style:{padding:"8px 16px",border:q===a?"2px solid #000":"1px solid #ccc",borderRadius:"4px",cursor:"pointer",backgroundColor:q===a?"#000":"#fff",color:q===a?"#fff":"#000",transition:"all 0.2s"},children:a},c))})]}),(0,b.jsxs)("div",{className:"section",children:[(0,b.jsx)("p",{className:"label",children:"Quantity"}),(0,b.jsxs)("div",{className:"quantity-control",style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,b.jsx)("button",{onClick:()=>t(Math.max(1,s-1)),style:{padding:"8px 12px",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"16px",backgroundColor:"#f5f5f5"},children:"âˆ’"}),(0,b.jsx)("input",{type:"number",value:s,onChange:a=>t(Math.max(1,parseInt(a.target.value)||1)),style:{width:"60px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",textAlign:"center",fontSize:"16px"}}),(0,b.jsx)("button",{onClick:()=>t(s+1),style:{padding:"8px 12px",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"16px",backgroundColor:"#f5f5f5"},children:"+"})]})]}),(0,b.jsx)("div",{className:"section",style:{borderTop:"2px solid #eee",paddingTop:"16px",marginTop:"16px"},children:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsx)("p",{className:"label",style:{margin:0},children:"Final Price:"}),(0,b.jsxs)("p",{style:{fontSize:"24px",fontWeight:"bold",margin:0,color:"#000"},children:[k.salePrice*s," EGP"]})]})}),u&&(0,b.jsx)("div",{style:{padding:"12px",borderRadius:"4px",marginBottom:"16px",backgroundColor:u.includes("error")||u.includes("Please")?"#fee":"#efe",color:u.includes("error")||u.includes("Please")?"#c00":"#060",border:`1px solid ${u.includes("error")||u.includes("Please")?"#fcc":"#0c0"}`},children:u}),(0,b.jsxs)("div",{className:"bottom-actions",children:[(0,b.jsx)("button",{onClick:y,className:"btn-add",children:"Add To Cart"}),(0,b.jsx)("button",{onClick:z,className:"btn-buy",children:"Buy Now"})]})]})]})}):(0,b.jsx)(g.default,{})})}a.s(["default",()=>h])}];

//# sourceMappingURL=app_2ae6c369._.js.map