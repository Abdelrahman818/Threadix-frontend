{"version":3,"sources":["../../../../components/ProductCard.jsx","../../../../components/Filters.jsx","../../../../app/shop/%5Bcategory%5D/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { API_BASE_URL } from \"@/config\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst ProductCard = (props) => {\r\n  const router = useRouter();\r\n  const route = () => {\r\n    router.push(`/shop/item/${props.id}`)\r\n  };\r\n  return (\r\n    <div className=\"product-card\" onClick={route}>\r\n      <div className=\"img-box\">\r\n        <img src={API_BASE_URL + props.image[0]} alt=\"Product\" />\r\n      </div>\r\n      <div className=\"info\">\r\n        <h3 className=\"name\">{props.title && props.title.charAt(0).toUpperCase() + props.title.slice(1)}</h3>\r\n        <p className=\"price\">EGY{ props.salePrice }</p>\r\n        <button className=\"btn\">View</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductCard;\r\n","\r\nconst Filters = ({ target, getTarget, getSort }) => {\r\n  return (\r\n    <div className=\"filters\">\r\n      <div className=\"search\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search products...\"\r\n          id=\"search\"\r\n          value={target}\r\n          onChange={(e) => getTarget(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"sort\">\r\n        <select onChange={e => getSort(e.target.value)} defaultValue=\"\">\r\n          <option value=\"\">Sort by</option>\r\n          <option value=\"assending\">Price: Low → High</option>\r\n          <option value=\"dessending\">Price: High → Low</option>\r\n          <option value=\"new\">Newest</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filters;\r\n","'use client';\r\n\r\nimport ProductCard from \"@/components/ProductCard\";\r\nimport Filters from \"@/components/Filters\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport { END_POINT } from \"@/config\";\r\nimport \"@/styles/shop.css\";\r\n\r\nexport default function Shop() {\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [target, setTarget] = useState(\"\");\r\n  const [sort, setSort] = useState(\"\");\r\n  const { category } = useParams();\r\n\r\n  const getProducts = () => {\r\n    fetch(`${END_POINT.PRODUCTS}/${category}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then(res => res.json())\r\n      .then(json => { setProducts(json.data) })\r\n      .catch(error => console.error(error.message));\r\n  };\r\n\r\n  const getMatchedProducts = () => {\r\n    fetch(`${END_POINT.SEARCH}/${target}`)\r\n      .then(res => res.json())\r\n      .then(json => { setProducts(json.data) })\r\n      .catch(error => console.error(error.message));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (target.length > 0) {\r\n      const timeHandler = setTimeout(() => {\r\n        getMatchedProducts();\r\n      }, 500);\r\n      return () => clearTimeout(timeHandler)\r\n    } else {\r\n      getProducts();\r\n    }\r\n  }, [target]);\r\n\r\n  useEffect(() => {\r\n    if (sort === \"assending\")\r\n      products.sort((a, b) => a.salePrice - b.salePrice);\r\n    else if (sort === \"dessending\")\r\n      products.sort((a, b) => b.salePrice - a.salePrice);\r\n    else if (sort === \"new\")\r\n      products.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n    setProducts([...products]);\r\n  }, [sort]);\r\n\r\n  useEffect(() => getProducts(), []);\r\n\r\n  return (\r\n    <div className=\"shop-page\">\r\n      <section className=\"shop-hero\">\r\n        <h1 className=\"title\">Shop</h1>\r\n        <p className=\"subtitle\">Explore our latest collections</p>\r\n      </section>\r\n\r\n      <Filters target={target} getTarget={setTarget} getSort={setSort} />\r\n\r\n      <div className=\"products-grid\">\r\n        {products && products.length > 0 && products.map((product, idx) => (\r\n          <ProductCard\r\n            key={idx}\r\n            id={product._id}\r\n            title={product.title ? product.title.charAt(0).toUpperCase() + product.title.slice(1) : ''}\r\n            price={product.price}\r\n            salePrice={product.salePrice}\r\n            image={product.images}\r\n            disc={product.disc}\r\n            category={product.category ? product.category.charAt(0).toUpperCase() + product.category.slice(1) : ''}\r\n            size={product.size}\r\n            colors={product.colors}\r\n            stock={product.stock}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}