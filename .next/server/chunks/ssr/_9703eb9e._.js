module.exports=[70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},79360,a=>{"use strict";let b=(0,a.i(70106).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],79360)},68231,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27544),e=a.i(79360),f=a.i(70106);let g=(0,f.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),h=(0,f.default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),i=(0,f.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),j=(0,f.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function k(){let[a,f]=(0,c.useState)([]),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(null),s=()=>{fetch(d.END_POINT.USERS,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(a=>a.json()).then(a=>f(a.data||[])).catch(a=>console.error(a.message))};(0,c.useEffect)(()=>{let a=setTimeout(()=>{k.trim()?fetch(`${d.END_POINT.SEARCH("users")}/${k}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(a=>a.json()).then(a=>f(a.data||[])).catch(a=>console.error(a.message)):s()},500);return()=>clearTimeout(a)},[k]),(0,c.useEffect)(()=>{if(!m&&!o)return void s();let a=new URLSearchParams;m&&a.append("roleFilter",m),o&&a.append("statusFilter",o),fetch(`${d.END_POINT.USERS}/filter?${a.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(a=>a.json()).then(a=>f(a.data||[])).catch(a=>console.error(a.message))},[m,o]);let t=(a,b)=>{fetch(`${d.END_POINT.USERS}/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)}).then(a=>a.json()).then(()=>s()).catch(a=>console.error(a.message))},u=(a,b)=>{switch(a){case"makeAdmin":t(b,{isAdmin:!0});break;case"restore":t(b,{isAdmin:!1});break;case"activate":t(b,{isActive:!0});break;case"suspend":t(b,{isActive:!1})}r(null)};return(0,c.useEffect)(()=>{let a=()=>r(null);return window.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[]),(0,c.useEffect)(()=>{s()},[]),(0,b.jsxs)("div",{className:"p-8 flex-1",children:[(0,b.jsxs)("div",{className:"mb-10",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Users"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage all users in the Threadix platform"})]}),(0,b.jsxs)("div",{className:"bg-white p-5 rounded-xl border shadow-sm mb-8 flex flex-col md:flex-row gap-4",children:[(0,b.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),placeholder:"Search users by name or email...",className:"w-full md:w-72 px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-black outline-none"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"px-4 py-2.5 border rounded-xl",children:[(0,b.jsx)("option",{value:"",children:"All Roles"}),(0,b.jsx)("option",{value:"admin",children:"Admin"}),(0,b.jsx)("option",{value:"customer",children:"Customer"})]}),(0,b.jsxs)("select",{value:o,onChange:a=>p(a.target.value),className:"px-4 py-2.5 border rounded-xl",children:[(0,b.jsx)("option",{value:"",children:"All Status"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Suspended"})]})]})]}),(0,b.jsx)("div",{className:"bg-white border rounded-xl shadow-sm overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left",children:"Email"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left",children:"Phone"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{className:"border-b last:border-none hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-semibold",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.email}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.phone??"â€”"}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-200 rounded",children:a.isAdmin?"Admin":"Customer"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${a.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.isActive?"Active":"Suspended"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("button",{onClick:b=>{if(q)r(null);else{let c=b.currentTarget.getBoundingClientRect(),d=window.innerHeight-c.bottom;r({userId:a._id,x:c.right-160,y:d<200?c.top-200-8:c.bottom+8})}},className:"p-2 hover:bg-gray-200 rounded-full",children:(0,b.jsx)(e.MoreVertical,{size:18})})})]},a._id))})]})}),q&&(0,b.jsxs)("div",{style:{position:"fixed",top:q.y,left:q.x,zIndex:9999},className:"bg-white border rounded-lg shadow-lg w-48",children:[(0,b.jsxs)("button",{onClick:()=>u("makeAdmin",q.userId),className:"flex items-center gap-2 w-full text-left px-4 py-2 hover:bg-gray-100",children:[(0,b.jsx)(g,{size:16,className:"text-purple-600"}),"Make Admin"]}),(0,b.jsxs)("button",{onClick:()=>u("restore",q.userId),className:"flex items-center gap-2 w-full text-left px-4 py-2 hover:bg-gray-100",children:[(0,b.jsx)(h,{size:16,className:"text-blue-600"}),"Restore Customer"]}),(0,b.jsx)("hr",{className:"my-1"}),(0,b.jsxs)("button",{onClick:()=>u("activate",q.userId),className:"flex items-center gap-2 w-full text-left px-4 py-2 hover:bg-gray-100",children:[(0,b.jsx)(i,{size:16,className:"text-green-600"}),"Activate"]}),(0,b.jsxs)("button",{onClick:()=>u("suspend",q.userId),className:"flex items-center gap-2 w-full text-left px-4 py-2 hover:bg-red-50 text-red-600",children:[(0,b.jsx)(j,{size:16}),"Suspend"]})]})]})}a.s(["default",()=>k],68231)}];

//# sourceMappingURL=_9703eb9e._.js.map